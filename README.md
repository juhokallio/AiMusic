# AiMusic
The original idea was to create music, more specifically canons in the style of Bach. Canon is a strict form of classical music, and creating one is as much about solving chess like search tree problem as having sophisticated music taste. To me this made it an interesting problem, since computer has here some definite advantages over humans. I managed to create building blocks for the canon generator, and something else as a side product. The system works almost like a game where the players teach the machine to compose classical music.

At the moment, AiMusic functions as a framework for melodies. In it's core, Markov chains are for creating motifs, small pieces of music that become important for the piece. In this context, motif could be something like six notes of music. For melody creation a genetic algorithm is used. Here the initial state of every individual is a motif created by Bach Markov chain. Eventually, the individuals end up being lists of motifs and variations of motifs. Mutation has three different ways to act, add (could be a random or clone from preexisting ones) or remove a motive, and variate. The variate is the most interesting of these, and allows some traditional variation strategies like slowing or accelerating the motif. Mate is just one point cross over, although now that I think of it, two points might work a lot better...

For the evaluation, I have used classification models. I ended up kind of gamifying the application for the data gathering. As I had created a new model for presenting music in motifs and variations (and I had further ideas too), using existing music would have been somewhat difficult. Also, I wanted to avoid just mimicking the old masters and make the application to learn more like a student of music. First I allowed user to rate the created piece, but quickly realized, that such a vague number for goodness would require big data scale of input before success. I also didn't want to go too much into the details on how should the learning happen, so I ended up giving the user possibility for inventing feedback categories on the fly, like rating the rhythm of the created piece 4 and ending 2. As those categories would be meaningful for the user, they would eventually start making sense for the computer as well, given decent features. I chose the simplest route I could imagine and saved the music and ratings as json into a file, having one json object per line. 

For classification I used random forests, just to get something to work fast. I created one model per feedback category. Probably with these smaller data sizes a better choise would be naive bayes, logistical regression or even decision tree.

I am a little bit intrigued for continuing this and making it more of a game. It could be interesting to see if the players can teach the machine to produce brillianses, and it could be an interesting way to study music theory. Another idea is to make the program to ask smart questions for feedback. These feedback categories actually provide a primitive vocabulary that is linked to something concrete, and the program could be seen as understanding these few concepts almost in a human like way.
